<Window x:Class="Marketplace_System.Views.AddToCartModal"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Add to Cart"
        Width="430"
        Height="684"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        Background="#F3F8F4"
        WindowStyle="ToolWindow"
        ShowInTaskbar="False">

    <Border Margin="12,12,12,11"
            Background="White"
            CornerRadius="20"
            Padding="20"
            BorderBrush="#DCEAE3"
            BorderThickness="1">
        <StackPanel>

            <!-- Header -->
            <StackPanel Margin="0,0,0,16">
                <TextBlock Text="Add to Cart"
                           FontSize="24"
                           FontWeight="SemiBold"
                           Foreground="#1F4E3D"/>
                <TextBlock Text="Specify quantity and make an offer (optional)"
                           Foreground="#6B7280"
                           TextWrapping="Wrap"
                           Margin="0,4,0,0"/>
            </StackPanel>

            <!-- Seller Profile Card -->
            <Border Background="#F9FDFA"
                    CornerRadius="16"
                    Padding="16"
                    BorderBrush="#E0EFE7"
                    BorderThickness="1"
                    Margin="0,0,0,16">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <!-- Avatar -->
                    <Border Width="56"
                            Height="56"
                            CornerRadius="28"
                            Background="#2E7D5B"
                            HorizontalAlignment="Left"
                            VerticalAlignment="Top">
                        <TextBlock Text="🌾"
                                   FontSize="32"
                                   Foreground="White"
                                   HorizontalAlignment="Center"
                                   VerticalAlignment="Center"/>
                    </Border>

                    <!-- Seller details -->
                    <StackPanel Grid.Column="1"
                                Margin="12,0,0,0"
                                VerticalAlignment="Center">
                        <TextBlock x:Name="SellerNameText"
                                   Text="Green Valley Farm"
                                   FontSize="16"
                                   FontWeight="SemiBold"
                                   Foreground="#1F2937"/>
                        <StackPanel Orientation="Horizontal"
                                    Margin="0,4,0,0">
                            <TextBlock Text="★★★★★"
                                       Foreground="#F59E0B"
                                       FontSize="14"
                                       Margin="0,0,4,0"/>
                            <TextBlock x:Name="SellerRatingText"
                                       Text="(24 reviews)"
                                       Foreground="#6B7280"
                                       FontSize="13"/>
                        </StackPanel>
                        <TextBlock Text="Member since 2020"
                                   Foreground="#8A9C94"
                                   FontSize="12"/>
                    </StackPanel>
                </Grid>
            </Border>

            <!-- Product Details Card -->
            <Border Background="#F3F8F4"
                    CornerRadius="16"
                    Padding="16"
                    BorderBrush="#DCEAE3"
                    BorderThickness="1"
                    Margin="0,0,0,16">
                <StackPanel>
                    <TextBlock x:Name="ProductNameText"
                               Text="Organic Heirloom Tomatoes"
                               FontSize="18"
                               FontWeight="SemiBold"
                               Foreground="#1F2937"/>
                    <TextBlock x:Name="PriceText"
                               Text="$6.99 / kilo"
                               FontSize="22"
                               FontWeight="Bold"
                               Foreground="#2E7D5B"
                               Margin="0,8,0,4"/>
                    <TextBlock x:Name="StockText"
                               Text="In stock: 12 kilos"
                               Foreground="#6B7280"
                               Margin="0,0,0,4"/>
                </StackPanel>
            </Border>

            <!-- Quantity and Offer Section -->
            <Border Background="White"
                    CornerRadius="16"
                    Padding="16"
                    BorderBrush="#E0EFE7"
                    BorderThickness="1"
                    Margin="0,0,0,20">
                <StackPanel>
                    <!-- Quantity and Offer Section -->
                    <Border Background="White"
        CornerRadius="16"
        Padding="16"
        BorderBrush="#E0EFE7"
        BorderThickness="1"
        Margin="0,0,0,20" Height="157">
                        <StackPanel>

                            <!-- Quantity (kilos) -->
                            <StackPanel Margin="0,0,0,16">
                                <TextBlock Text="Quantity (kilos)"
                       FontSize="14"
                       FontWeight="SemiBold"
                       Foreground="#374151"
                       Margin="0,0,0,6"/>
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <!-- TextBox wrapped in Border for rounded corners -->
                                    <Border CornerRadius="8"
                        BorderBrush="#D1D5DB"
                        BorderThickness="1"
                        Background="White">
                                        <TextBox x:Name="QuantityTextBox"
                             Text="1"
                             FontSize="16"
                             Padding="6"
                             BorderThickness="0"
                             Background="Transparent"
                             HorizontalAlignment="Stretch"
                             TextChanged="QuantityTextBox_TextChanged"/>
                                        <!-- Added event -->
                                    </Border>
                                    <StackPanel Grid.Column="1"
                            Orientation="Horizontal"
                            Margin="8,0,0,0">
                                        <!-- Plus Button -->
                                        <Border CornerRadius="8"
                            Background="#E6F4EC"
                            BorderBrush="#CDE9DA"
                            BorderThickness="1"
                            Width="36"
                            Height="36"
                            Margin="0,0,6,0">
                                            <Button Content="+"
                                Background="Transparent"
                                BorderThickness="0"
                                Foreground="#1F4E3D"
                                FontSize="16"
                                FontWeight="Bold"
                                Click="IncreaseQuantity_Click"
                                Cursor="Hand"/>
                                        </Border>
                                        <!-- Minus Button -->
                                        <Border CornerRadius="8"
                            Background="#E6F4EC"
                            BorderBrush="#CDE9DA"
                            BorderThickness="1"
                            Width="36"
                            Height="36">
                                            <Button Content="-"
                                Background="Transparent"
                                BorderThickness="0"
                                Foreground="#1F4E3D"
                                FontSize="16"
                                FontWeight="Bold"
                                Click="DecreaseQuantity_Click"
                                Cursor="Hand"/>
                                        </Border>
                                    </StackPanel>
                                </Grid>
                            </StackPanel>

                            <!-- 🆕 TOTAL PAYMENT -->
                            <Grid Margin="0,8,0,16">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Text="Total:"
                       FontSize="16"
                       FontWeight="SemiBold"
                       Foreground="#374151"
                       VerticalAlignment="Center"/>
                                <TextBlock x:Name="TotalPaymentText"
                       Grid.Column="1"
                       Text="$0.00"
                       FontSize="20"
                       FontWeight="Bold"
                       Foreground="#2E7D5B"
                       HorizontalAlignment="Right"
                       VerticalAlignment="Center"/>
                            </Grid>

                            <!-- Offer (optional) - remains unchanged -->
                            <StackPanel>
                                <!-- your existing offer content -->
                            </StackPanel>

                        </StackPanel>
                    </Border>
                    <!-- Quantity (kilos) -->
                    <StackPanel Margin="0,0,0,16">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <!-- TextBox wrapped in Border for rounded corners -->
                            <StackPanel Grid.Column="1"
                                        Orientation="Horizontal"
                                        Margin="8,0,0,0">
                                <!-- Plus Button with rounded corners using Border -->
                                <!-- Minus Button with rounded corners using Border -->
                            </StackPanel>
                        </Grid>
                    </StackPanel>

                    <!-- Offer (optional) -->
                    <StackPanel>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                        </Grid>
                    </StackPanel>

                </StackPanel>
            </Border>

            <!-- Action Buttons -->
            <StackPanel Orientation="Horizontal"
                        HorizontalAlignment="Right"
                        Margin="0,0,0,0">
                <!-- Message Seller Button with rounded corners via Border -->
                <Border CornerRadius="8"
                        Background="#E6F4EC"
                        BorderBrush="#CDE9DA"
                        BorderThickness="1"
                        Margin="0,0,10,0">
                    <Button Content="💬 Message Seller"
                            Click="MessageSellerButton_Click"
                            Padding="16,8"
                            Background="Transparent"
                            BorderThickness="0"
                            Foreground="#1F4E3D"
                            FontWeight="SemiBold"
                            Cursor="Hand"/>
                </Border>
                <!-- Add to Cart Button with rounded corners via Border -->
                <Border CornerRadius="8"
                        Background="#2E7D5B">
                    <Button Content="Add to Cart"
                            Click="AddToCartButton_Click"
                            Padding="16,8"
                            Background="Transparent"
                            BorderThickness="0"
                            Foreground="White"
                            FontWeight="SemiBold"
                            Cursor="Hand"/>
                </Border>
            </StackPanel>
        </StackPanel>
    </Border>
</Window>